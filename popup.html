<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RHAT</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="popup">
    <div class="popup-container">
      <h2 class="popup-title">
        <span class="title-icon">üéØ</span>
        RHAT
      </h2>

      <div class="controls-section">
        <div
          style="
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            padding: 16px 12px;
            margin-bottom: 18px;
            background: #fafbfc;
          "
        >
          <div class="control-group">
            <label class="toggle-switch">
              <input type="checkbox" id="enabledToggle" />
              <span class="slider"></span>
            </label>
            <span class="control-label">Enable Monitor</span>
          </div>
          <div class="control-group">
            <label for="modeSelect" class="control-label">Mode:</label>
            <select id="modeSelect" class="styled-select">
              <option value="alarm_only">Alarm only</option>
              <option value="alarm_and_click">Alarm & acquire</option>
            </select>
          </div>
          <div style="height: 4px"></div>
          <div class="control-group">
            <label for="intervalSelect" class="control-label"
              >Refresh Interval:</label
            >
            <select id="intervalSelect" class="styled-select">
              <option value="0.5">0.5 second</option>
              <option value="1" selected>1 second</option>
              <option value="2">2 seconds</option>
              <option value="5">5 seconds</option>
              <option value="10">10 seconds</option>
              <option value="30">30 seconds</option>
              <option value="60">60 seconds</option>
            </select>
          </div>
        </div>
        <div
          style="
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            padding: 16px 12px;
            background: #fafbfc;
          "
        >
          <!-- New alert sound section -->
          <div class="control-group">
            <label for="soundSourceSelect" class="control-label"
              >Sound Source:</label
            >
            <select id="soundSourceSelect" class="styled-select">
              <option value="default" selected>Default</option>
              <option value="file">Local file</option>
              <option value="url">Online audio link</option>
            </select>
          </div>
          <div id="soundSourceControls">
            <div
              id="fileInputContainer"
              style="
                display: none;
                flex-direction: column;
                align-items: center;
                width: 100%;
                margin-top: 8px;
              "
            >
              <label
                for="alertSoundFile"
                class="control-label"
                style="margin-bottom: 8px; text-align: center; width: 100%"
                >Choose MP3 file:</label
              >
              <div style="display: flex; justify-content: center; width: 100%">
                <input
                  type="file"
                  id="alertSoundFile"
                  accept="audio/mp3,audio/mpeg"
                  style="margin-bottom: 6px"
                />
              </div>
            </div>
            <div
              id="urlInputContainer"
              style="
                display: none;
                flex-direction: column;
                align-items: center;
                width: 100%;
                margin-top: 5px;
              "
            >
              <label
                for="alertSoundUrl"
                class="control-label"
                style="margin-bottom: 8px; text-align: center; width: 100%"
                >MP3 URL:</label
              >
              <input
                type="text"
                id="alertSoundUrl"
                class="styled-select"
                placeholder="Paste direct MP3 URL here (must end with .mp3)"
                pattern=".*\.mp3$"
                style="width: 100%"
              />
            </div>
          </div>
          <div style="height: 12px"></div>
          <button
            id="playPauseSoundBtn"
            class="btn btn-secondary"
            title="Play/Pause"
            style="margin-right: 12px"
          >
            <span id="playPauseIcon" style="font-size: 20px">&#9654;</span>
          </button>
          <button id="stopSoundBtn" class="btn btn-outline" title="Stop">
            <span style="font-size: 20px">&#9632;</span>
          </button>
          <span
            id="soundErrorMsg"
            style="
              color: #ef4444;
              font-size: 13px;
              display: none;
              margin-top: 6px;
              text-align: center;
            "
          ></span>
        </div>
      </div>

      <div class="actions-section">
        <button id="openOptionsBtn" class="btn btn-secondary">
          ‚öôÔ∏è More Settings
        </button>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
  <div style="height: 4px"></div>
</html>
