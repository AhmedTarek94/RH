<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RHAT</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="popup">
    <div class="popup-container">
      <h2 class="popup-title">
        <span class="title-icon">üéØ</span>
        RHAT
      </h2>

      <div class="controls-section">
        <div class="settings-card">
          <div class="control-group">
            <label class="toggle-switch">
              <input type="checkbox" id="enabledToggle" />
              <span class="slider"></span>
            </label>
            <span class="control-label">Enable Monitor</span>
          </div>
          <div class="control-group">
            <label for="modeSelect" class="control-label">Mode:</label>
            <select id="modeSelect" class="styled-select">
              <option value="alarm_only">Alarm only</option>
              <option value="alarm_and_click">Alarm & acquire</option>
            </select>
          </div>
          <div class="spacer-sm"></div>
          <div class="control-group">
            <label for="intervalSelect" class="control-label"
              >Refresh Interval:</label
            >
            <select id="intervalSelect" class="styled-select">
              <option value="0.5">0.5 second</option>
              <option value="1" selected>1 second</option>
              <option value="2">2 seconds</option>
              <option value="5">5 seconds</option>
              <option value="10">10 seconds</option>
              <option value="30">30 seconds</option>
              <option value="60">60 seconds</option>
            </select>
          </div>
        </div>
        <div class="settings-card">
          <!-- Theme toggle -->
          <div class="control-group">
            <label class="toggle-switch">
              <input type="checkbox" id="themeToggle" />
              <span class="slider"></span>
            </label>
            <span class="control-label">Dark Mode</span>
          </div>
          
          <!-- New alert sound section -->
          <div class="control-group">
            <label for="soundSourceSelect" class="control-label"
              >Sound Source:</label
            >
            <select id="soundSourceSelect" class="styled-select">
              <option value="default" selected>Default</option>
              <option value="file">Local file</option>
              <option value="url">Online audio link</option>
            </select>
          </div>
          <div id="soundSourceControls">
            <div id="fileInputContainer" class="file-input-container">
              <label for="alertSoundFile" class="file-input-label">Choose MP3 file:</label>
              <div class="file-input-wrapper">
                <input
                  type="file"
                  id="alertSoundFile"
                  accept="audio/mp3,audio/mpeg"
                  class="file-input"
                />
              </div>
            </div>
            <div id="urlInputContainer" class="url-input-container">
              <label for="alertSoundUrl" class="url-input-label">MP3 URL:</label>
              <input
                type="text"
                id="alertSoundUrl"
                class="styled-select url-input"
                placeholder="Paste direct MP3 URL here (must end with .mp3)"
                pattern=".*\.mp3$"
              />
            </div>
          </div>
          <div class="spacer-md"></div>
          <div class="sound-controls">
            <button id="playPauseSoundBtn" class="btn btn-secondary" title="Play/Pause">
              <span id="playPauseIcon" class="sound-icon">&#9654;</span>
            </button>
            <button id="stopSoundBtn" class="btn btn-outline" title="Stop">
              <span class="sound-icon">&#9632;</span>
            </button>
          </div>
          <span id="soundErrorMsg" class="error-message"></span>
        </div>
      </div>

      <div class="actions-section">
        <button id="openOptionsBtn" class="btn btn-secondary">
          ‚öôÔ∏è More Settings
        </button>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
  <div style="height: 4px"></div>
</html>
