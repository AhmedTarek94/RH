<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RaterHub Error Handling Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            padding: 10px 15px;
            margin: 5px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .success { background-color: #d4edda; color: #155724; }
        .warning { background-color: #fff3cd; color: #856404; }
        .danger { background-color: #f8d7da; color: #721c24; }
        .info { background-color: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>RaterHub Error Handling Test</h1>
    
    <div class="test-section info">
        <h2>Test 1: 403 Forbidden Error Simulation</h2>
        <p>This simulates the "Error 403 Forbidden" page that appears when a task has already been submitted.</p>
        <button onclick="simulate403Error()">Simulate 403 Error</button>
        <button onclick="simulateSubmittedTask()">Simulate "Already Submitted"</button>
    </div>

    <div class="test-section info">
        <h2>Test 2: Index Page Simulation</h2>
        <p>This simulates the task/index page that should redirect to the main page.</p>
        <button onclick="simulateIndexPage()">Simulate Index Page</button>
    </div>

    <div class="test-section info">
        <h2>Test 3: Normal Task Page</h2>
        <p>This simulates a normal task/show page with taskIds that should stop monitoring.</p>
        <button onclick="simulateTaskPage()">Simulate Task Page</button>
    </div>

    <div class="test-section info">
        <h2>Test 4: Main Page Monitoring</h2>
        <p>This simulates the main RaterHub page where monitoring should be active.</p>
        <button onclick="simulateMainPage()">Simulate Main Page</button>
    </div>

    <div class="test-section info">
        <h2>Test 5: Incomplete Tasks Detection</h2>
        <p>This simulates incomplete tasks with a continue button.</p>
        <button onclick="simulateIncompleteTasks()">Simulate Incomplete Tasks</button>
    </div>

    <div id="test-content"></div>

    <script>
        function simulate403Error() {
            document.getElementById('test-content').innerHTML = `
                <div class="test-section danger">
                    <h3>Error 403 Forbidden</h3>
                    <p>You don't have permission to access this resource.</p>
                    <p>This task has already been SUBMITTED and cannot be accessed again.</p>
                </div>
            `;
            console.log("Simulated 403 Error page");
        }

        function simulateSubmittedTask() {
            document.getElementById('test-content').innerHTML = `
                <div class="test-section danger">
                    <h3>Task Already Submitted</h3>
                    <p>This task has already been SUBMITTED and cannot be accessed again.</p>
                    <p>Please return to the main page to find new tasks.</p>
                </div>
            `;
            console.log("Simulated 'Already Submitted' page");
        }

        function simulateIndexPage() {
            document.getElementById('test-content').innerHTML = `
                <div class="test-section warning">
                    <h3>Task Index Page</h3>
                    <p>Welcome to the task index page.</p>
                    <p>No tasks are currently available. Please try again later.</p>
                </div>
            `;
            console.log("Simulated Index page");
        }

        function simulateTaskPage() {
            document.getElementById('test-content').innerHTML = `
                <div class="test-section success">
                    <h3>Task Page</h3>
                    <p>You are currently working on a task.</p>
                    <p>URL would contain: /task/show?taskIds=12345</p>
                </div>
            `;
            console.log("Simulated Task page");
        }

        function simulateMainPage() {
            document.getElementById('test-content').innerHTML = `
                <div class="test-section success">
                    <h3>RaterHub Main Page</h3>
                    <p>Welcome to RaterHub Evaluation Platform</p>
                    <p>Monitoring should be active on this page.</p>
                </div>
            `;
            console.log("Simulated Main page");
        }

        function simulateIncompleteTasks() {
            document.getElementById('test-content').innerHTML = `
                <div class="test-section warning">
                    <h3>Incomplete Tasks Detected</h3>
                    <p>You have incomplete tasks that need to be completed.</p>
                    <button style="background-color: #007bff; color: white;">Continue</button>
                    <p>Incomplete tasks will be shown here with a continue button.</p>
                </div>
            `;
            console.log("Simulated Incomplete Tasks page");
        }

        // Log all test events
        console.log("RaterHub Error Handling Test Page Loaded");
        console.log("Use the buttons above to simulate different page scenarios");
    </script>
</body>
</html>
